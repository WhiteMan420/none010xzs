local player = game.Players.LocalPlayer
local char = player.Character
local lp = game.Players.LocalPlayer
local NPCs = {}

for i, v in pairs(game:GetService("Workspace").Mobs:GetDescendants()) do
    if v:IsA "Model" and v:FindFirstChild("Humanoid") then
        if not table.find(NPCs, tostring(v)) then
            table.insert(NPCs, tostring(v))
        end
    end
end
local Pack = {}

for i, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
    if v:IsA "Tool" and v:FindFirstChild("BlockEquiped") then
        if not table.find(Pack, tostring(v)) then
            table.insert(Pack, tostring(v))
        end
    end
end

game.StarterGui:SetCore(
    "SendNotification",
    {
        Title = "Important",
        Text = "Quests have cooldowns so be weary",
        Icon = "",
        Duration = 15
    }
)

game.StarterGui:SetCore(
    "SendNotification",
    {
        Title = "Important",
        Text = "Make sure to stand near quest NPC before enabling",
        Icon = "",
        Duration = 30
    }
)

local metatable = getrawmetatable(game)
local nc = metatable.__namecall

setreadonly(metatable, false)

metatable.__namecall =
    newcclosure(
    function(self, ...)
        local args = {...}
        local name = self
        if getnamecallmethod() == "FireServer" and tostring(name) == "moddelteasdasd123" then
            return wait(9e9)
        end
        return nc(self, ...)
    end
)

setreadonly(metatable, true)

local TweenService = game:GetService("TweenService")
local noclipE = false
local antifall = false

local function noclip()
    for i, v in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
        if v:IsA("BasePart") and v.CanCollide == true then
            v.CanCollide = false
            game.Players.LocalPlayer.Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
        end
    end
end

local function moveto(obj, speed)
    local info =
        TweenInfo.new(
        ((game.Players.LocalPlayer.Character.HumanoidRootPart.Position - obj.Position).Magnitude) / speed,
        Enum.EasingStyle.Linear
    )
    local tween = TweenService:Create(game.Players.LocalPlayer.Character.HumanoidRootPart, info, {CFrame = obj})

    if not game.Players.LocalPlayer.Character.HumanoidRootPart:FindFirstChild("BodyVelocity") then
        antifall = Instance.new("BodyVelocity", game.Players.LocalPlayer.Character.HumanoidRootPart)
        antifall.Velocity = Vector3.new(0, 0, 0)
        noclipE = game:GetService("RunService").Stepped:Connect(noclip)
        tween:Play()
    end

    tween.Completed:Connect(
        function()
            antifall:Destroy()
            noclipE:Disconnect()
        end
    )
end

local Material = loadstring(game:HttpGet("https://raw.githubusercontent.com/Kinlei/MaterialLua/master/Module.lua"))()

local X =
    Material.Load(
    {
        Title = "Keybrew Hub | Project Slayer",
        Style = 3,
        SizeX = 300,
        SizeY = 350,
        Theme = "Light",
        ColorOverrides = {
            MainFrame = Color3.fromRGB(0, 0, 0),
            Toggle = Color3.fromRGB(124, 37, 255),
            ToggleAccent = Color3.fromRGB(255, 255, 255),
            Dropdown = Color3.fromRGB(124, 37, 255),
            DropdownAccent = Color3.fromRGB(255, 255, 255),
            Slider = Color3.fromRGB(124, 37, 255),
            SliderAccent = Color3.fromRGB(255, 255, 255),
            NavBarAccent = Color3.fromRGB(0, 0, 0),
            Content = Color3.fromRGB(0, 0, 0)
        }
    }
)

local Y =
    X.New(
    {
        Title = "Main"
    }
)

local T =
    X.New(
    {
        Title = "Teleports"
    }
)

local B =
    X.New(
    {
        Title = "Misc"
    }
)

local Cred =
    X.New(
    {
        Title = "Credits"
    }
)
Cred.Button(
    {
        Text = "Copy Discord UyuSF4fPC9",
        Callback = function()
            setclipboard("https://discord.gg/UyuSF4fPC9")
            toclipboard("https://discord.gg/UyuSF4fPC9")
        end
    }
)
local D =
    Y.Dropdown(
    {
        Text = "Select Quest",
        Callback = function(Value)
            getgenv().quest = Value
        end,
        Options = {
            "Wagon",
            "Kurake"
        }
    }
)

local function getDEMON()
    local dist, thing = math.huge
    for i, v in next, game:GetService("Workspace")["Demon_Flowers_Spawn"]:GetDescendants() do
        if v:IsA("MeshPart") and v.Parent.Name == "Demon_Flower" then
            local mag = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - v.Position).magnitude
            if mag < dist then
                dist = mag
                thing = v
            end
        end
    end
    return thing
end
Y.Button({
    Text = "Invisible",
    Callback = function()
local args = {
    [1] = "Change_Transparency",
    [2] = {
        [1] = {
            [1] = game:GetService("Players").LocalPlayer.Character.LeftHand,
            [2] = 1
        },
        [2] = {
            [1] = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart,
            [2] = 1
        },
        [3] = {
            [1] = game:GetService("Players").LocalPlayer.Character.LowerTorso,
            [2] = 1
        },
        [4] = {
            [1] = game:GetService("Players").LocalPlayer.Character.RightUpperLeg,
            [2] = 1
        },
        [5] = {
            [1] = game:GetService("Players").LocalPlayer.Character.LeftUpperLeg,
            [2] = 1
        },
        [6] = {
            [1] = game:GetService("Players").LocalPlayer.Character.UpperTorso,
            [2] = 1
        },
        [7] = {
            [1] = game:GetService("Players").LocalPlayer.Character.RightLowerLeg,
            [2] = 1
        },
        [8] = {
            [1] = game:GetService("Players").LocalPlayer.Character.RightFoot,
            [2] = 1
        },
        [9] = {
            [1] = game:GetService("Players").LocalPlayer.Character.LeftLowerLeg,
            [2] = 1
        },
        [10] = {
            [1] = game:GetService("Players").LocalPlayer.Character.LeftFoot,
            [2] = 1
        },
        [11] = {
            [1] = game:GetService("Players").LocalPlayer.Character.RightUpperArm,
            [2] = 1
        },
        [12] = {
            [1] = game:GetService("Players").LocalPlayer.Character.LeftUpperArm,
            [2] = 1
        },
        [13] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head,
            [2] = 1
        },
        [14] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead,
            [2] = 1
        },
        [15] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead.Eyes,
            [2] = 1
        },
        [16] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead.Eyes.Blink,
            [2] = 1
        },
        [17] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead.Mouth,
            [2] = 1
        },
        [18] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead.Mouth.Breath,
            [2] = 1
        },
        [19] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead.Mouth.InitialValue,
            [2] = 1
        },
        [20] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead.Nose,
            [2] = 1
        },
        [21] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead.Extra,
            [2] = 1
        },
        [22] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Head.FakeHead.Extra2,
            [2] = 1
        },
        [23] = {
            [1] = game:GetService("Players").LocalPlayer.Character.RightLowerArm,
            [2] = 1
        },
        [24] = {
            [1] = game:GetService("Players").LocalPlayer.Character.RightHand,
            [2] = 1
        },
        [25] = {
            [1] = game:GetService("Players").LocalPlayer.Character.LeftLowerArm,
            [2] = 1
        },
        [26] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Shirt29.UpperTorso,
            [2] = 1
        },
        [27] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Shirt29.UpperTorso,
            [2] = 1
        },
        [28] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Shirt29.UpperTorso,
            [2] = 1
        },
        [29] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Shirt29.LeftUpperArm,
            [2] = 1
        },
        [30] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Shirt29.LeftLowerArm,
            [2] = 1
        },
        [31] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Shirt29.LeftLowerArm,
            [2] = 1
        },
        [32] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Pants16.LowerTorso,
            [2] = 1
        },
        [33] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Pants16.RightUpperLeg,
            [2] = 1
        },
        [34] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Pants16.RightLowerLeg,
            [2] = 1
        },
        [35] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Pants16.RightLowerLeg,
            [2] = 1
        },
        [36] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Pants16.LeftUpperLeg,
            [2] = 1
        },
        [37] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Pants16.LeftLowerLeg,
            [2] = 1
        },
        [38] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Pants16.LeftLowerLeg,
            [2] = 1
        },
        [39] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Shoes3.RightFoot,
            [2] = 1
        },
        [40] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Shoes3.LeftFoot,
            [2] = 1
        },
        [41] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Hair52,
            [2] = 1
        },
        [42] = {
            [1] = game:GetService("Players").LocalPlayer.Character.TorsoWeld.Handle,
            [2] = 1
        },
        [43] = {
            [1] = game:GetService("Players").LocalPlayer.Character.TorsoWeld:FindFirstChild("Meshes/sabito sword_Plane.001 (6)"),
            [2] = 1
        },
        [44] = {
            [1] = game:GetService("Players").LocalPlayer.Character.TorsoWeld:FindFirstChild("Meshes/sabito sword_Cube.007 (3)"),
            [2] = 1
        },
        [45] = {
            [1] = game:GetService("Players").LocalPlayer.Character.Urodoki_Mask.Uro_mask,
            [2] = 1
        }
    }
}

game:GetService("ReplicatedStorage").Remotes.To_Server.Handle_Initiate_S:FireServer(unpack(args))

    end,
})


Y.Dropdown(
    {
        Text = "Select NPC",
        Callback = function(Value)
            getgenv().npcs = Value
        end,
        Options = NPCs
    }
)
local function getNPC()
    local dist, thing = math.huge
    for i, v in next, game:GetService("Workspace").Mobs:GetDescendants() do
        if v.Name == "HumanoidRootPart" and v.Parent.Name == npcs then
            local mag = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - v.Position).magnitude
            if mag < dist then
                dist = mag
                thing = v
            end
        end
    end
    return thing
end
Y.Toggle(
    {
        Text = "Autofarm NPC",
        Callback = function(Value)
            o = Value
            while o do
                task.wait()
                if not game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("Model") then
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, 49, false, game)
                end
                local Time =
                    (getNPC().CFrame.p + Vector3.new(0, -5, 0) -
                    game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude / 100
                local Info = TweenInfo.new(Time, Enum.EasingStyle.Linear)
                local Tween =
                    game:GetService("TweenService"):Create(
                    game.Players.LocalPlayer.Character.HumanoidRootPart,
                    Info,
                    {CFrame = getNPC().CFrame * CFrame.new(0, 0, 5) * CFrame.Angles(0, 0, 0)}
                )
                Tween:Play()
                game:GetService("VirtualInputManager"):SendMouseButtonEvent(0, 0, 0, true, game, 1)
            end
        end,
        Enabled = false
    }
)

Y.Toggle(
    {
        Text = "Auto Quest",
        Callback = function(Value)
            aa = Value
            while aa do
                task.wait()
                if quest == "Wagon" then
                    moveto(CFrame.new(223, 283, -1610) + Vector3.new(0, 0, 0), tonumber(125))
                    wait(3)

                    local args = {
                        [1] = "AddQuest",
                        [2] = "Players." ..
                            game.Players.LocalPlayer.Name .. ".PlayerGui.Npc_Dialogue.LocalScript.Functions",
                        [3] = 84732.8527069,
                        [4] = game:GetService("ReplicatedStorage").Player_Data[game.Players.LocalPlayer.Name].Quest,
                        [5] = {
                            ["List"] = {
                                [1] = {
                                    ["Name"] = "Deliver wagon",
                                    ["Progress"] = {
                                        [1] = 0,
                                        [2] = 1
                                    }
                                }
                            },
                            ["Current"] = "Deliver grandpa Wagwon's wagon"
                        }
                    }

                    game:GetService("ReplicatedStorage").Remotes.To_Server.Handle_Initiate_S:FireServer(unpack(args))
                    task.wait()
                    moveto(CFrame.new(450, 275, -2674) + Vector3.new(0, 0, 0), tonumber(125))
                    wait(8)
                    moveto(CFrame.new(223, 283, -1610) + Vector3.new(0, 0, 0), tonumber(125))
                    wait(40)
                elseif quest == "Kurake" then
                    moveto(CFrame.new(-415, 275, -3317) + Vector3.new(0, 0, 0), tonumber(125))
                    wait(3)
                    local args = {
                        [1] = "AddQuest",
                        [2] = "Players." ..
                            game.Players.LocalPlayer.Name .. ".PlayerGui.Npc_Dialogue.LocalScript.Functions",
                        [3] = 86188.8231813,
                        [4] = game:GetService("ReplicatedStorage").Player_Data[game.Players.LocalPlayer.Name].Quest,
                        [5] = {
                            ["List"] = {
                                [1] = {
                                    ["Name"] = "Deliver food",
                                    ["Progress"] = {
                                        [1] = 0,
                                        [2] = 1
                                    }
                                }
                            },
                            ["Current"] = "Deliver food supply to Naratia"
                        }
                    }

                    game:GetService("ReplicatedStorage").Remotes.To_Server.Handle_Initiate_S:FireServer(unpack(args))

                    moveto(CFrame.new(297, 276, -2545) + Vector3.new(0, 0, 0), tonumber(125))
                    wait(10)

                    local args = {
                        [1] = "Quest_add",
                        [2] = "Players." ..
                            game.Players.LocalPlayer.Name .. ".PlayerGui.Npc_Dialogue.LocalScript.Functions",
                        [3] = 86230.3159479,
                        [4] = {},
                        [5] = game:GetService("Players").LocalPlayer,
                        [6] = "ouwbihgemstoneasd123"
                    }

                    game:GetService("ReplicatedStorage").Remotes.To_Server.Handle_Initiate_S:FireServer(unpack(args))

                    moveto(CFrame.new(-415, 275, -3317) + Vector3.new(0, 0, 0), tonumber(125))
                    wait(30)
                end
            end
        end,
        Enabled = false
    }
)
Y.Button(
    {
        Text = "Teleport to Wagon",
        Callback = function()
            moveto(CFrame.new(223, 283, -1610) + Vector3.new(0, 0, 0), tonumber(125))
        end
    }
)

Y.Button(
    {
        Text = "Teleport to Kurake",
        Callback = function()
            moveto(CFrame.new(-415, 275, -3317) + Vector3.new(0, 0, 0), tonumber(125))
        end
    }
)

T.Button(
    {
        Text = "Teleport to Demon Flower",
        Callback = function()
            game.StarterGui:SetCore(
                "SendNotification",
                {
                    Title = "Searching...",
                    Text = "If Lily not found then render more chunks...",
                    Icon = "",
                    Duration = 15
                }
            )
            moveto(getDEMON().CFrame + Vector3.new(0, 0, 0), tonumber(125))
        end
    }
)

T.Button(
    {
        Text = "Teleport to Muzan",
        Callback = function()
            moveto(CFrame.new(game:GetService("Workspace").Muzan.SpawnPos.Value) + Vector3.new(0, 0, 0), tonumber(125))
        end
    }
)

T.Dropdown(
    {
        Text = "Select Area",
        Callback = function(Value)
            getgenv().area = Value
        end,
        Options = {
            "Kiribating Village",
            "Zapiwara Cave",
            "Butterfly Mansion",
            "Zapiwara Mountain",
            "Usumaru Village",
            "Waroru Cave",
            "Kabiwaru Village",
            "Abubu Cave",
            "Final Selection",
            "Ouwbayashi Home",
            "Wind Trainer",
            "Dangerous Woods",
            "Slasher Demon"
        }
    }
)

T.Button(
    {
        Text = "Teleport",
        Callback = function()
            if area == "Kiribating Village" then
                moveto(CFrame.new(107, 282, -1630) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Zapiwara Cave" then
                moveto(CFrame.new(18, 276, -2569) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Usumaru Village" then
                moveto(CFrame.new(-142, 353, -3039) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Butterfly Mansion" then
                moveto(CFrame.new(2961, 317, -3920) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Zapiwara Mountain" then
                moveto(CFrame.new(-326, 427, -2384) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Waroru Cave" then
                moveto(CFrame.new(705, 261, -2395) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Kabiwaru Village" then
                moveto(CFrame.new(1987, 326, -2903) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Abubu Cave" then
                moveto(CFrame.new(1037, 276, -3554) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Final Selection" then
                moveto(CFrame.new(5340, 372, -2424) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Ouwbayashi Home" then
                moveto(CFrame.new(1268, 316, -4578) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Wind Trainer" then
                moveto(CFrame.new(1788, 334, -3522) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Dangerous Woods" then
                moveto(CFrame.new(3966, 343, -3989) + Vector3.new(0, 0, 0), tonumber(125))
            elseif area == "Slasher Demon" then
                moveto(CFrame.new(4324, 342, -4274) + Vector3.new(0, 0, 0), tonumber(125))
            end
        end
    }
)

local ESP = loadstring(game:HttpGet("https://raw.githubusercontent.com/WhiteMan420/bub/main/chub"))()
B.Toggle(
    {
        Text = "Toggle ESP",
        Callback = function(d)
            ESP:Toggle(d)
        end,
        Enabled = false
    }
)

B.Toggle(
    {
        Text = "Toggle Players",
        Callback = function(d)
            ESP.Players = d
        end,
        Enabled = false
    }
)
B.Toggle(
    {
        Text = "Toggle Boxes",
        Callback = function(d)
            ESP.Boxes = d
        end,
        Enabled = false
    }
)

B.Slider(
    {
        Text = "WalkSpeed",
        Callback = function(warthog)
            getgenv().speed = warthog
        end,
        Min = 1,
        Max = 500,
        Def = 50
    }
)
B.Toggle(
    {
        Text = "Toggle",
        Callback = function(g)
            gg = g
            while gg do
                task.wait()
                game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = speed
            end
        end,
        Enabled = false
    }
)

local ee =
    B.Dropdown(
    {
        Text = "Select Weapon",
        Callback = function(Value)
            getgenv().back = Value
        end,
        Options = Pack
    }
)

B.Toggle(
    {
        Text = "Auto Equip",
        Callback = function(Value)
            e = Value
            while e do
                pcall(
                    function()
                        task.wait()
                        game.Players.LocalPlayer:findFirstChildOfClass("Backpack")[back].Parent =
                            game.Players.LocalPlayer.Character
                    end
                )
            end
        end,
        Enabled = false
    }
)

B.Button(
    {
        Text = "Refresh Weapons",
        Callback = function()
            table.clear(Pack)
            for i, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
                if v:IsA "Tool" and v:FindFirstChild("BlockEquiped") then
                    if not table.find(Pack, tostring(v)) then
                        table.insert(Pack, tostring(v))
                        ee:SetOptions(Pack)
                    end
                end
            end
        end
    }
)
    B.Dropdown(
    {
        Text = "Select Gourd",
        Callback = function(Value)
            getgenv().go = Value
        end,
        Options = {"Small Gourd",
        "Medium Gourd",
        "Big Gourd"}
    }
)

B.Toggle(
    {
        Text = "Auto Gourd",
        Callback = function(Value)
            gourd = Value
            while gourd do
                    local args = {
                        [1] = "buysomething",
                        [2] = game:GetService("Players").LocalPlayer,
                        [3] = go,
                        [4] = game:GetService("ReplicatedStorage").Player_Data[game.Players.LocalPlayer.Name].Yen,
                        [5] = game:GetService("ReplicatedStorage").Player_Data[game.Players.LocalPlayer.Name].Inventory
                    }
                    game:GetService("ReplicatedStorage").Remotes.To_Server.Handle_Initiate_S:FireServer(unpack(args))
                    local argss = {
                        [1] = "blow_in_gourd_thing",
                        [2] = game:GetService("Players").LocalPlayer,
                        [3] = game:GetService("Players").LocalPlayer.Character:FindFirstChild(go),
                        [4] = 1
                    }

                    game:GetService("ReplicatedStorage").Remotes.To_Server.Handle_Initiate_S_:InvokeServer(unpack(argss))
                    if game:GetService("Players")[game.Players.LocalPlayer.Name].Backpack:FindFirstChild(go) then
                        game.Players.LocalPlayer:findFirstChildOfClass("Backpack")[go].Parent =
                        game.Players.LocalPlayer.Character
                        
                end
            end
        end,
        Enabled = false
    }
)
